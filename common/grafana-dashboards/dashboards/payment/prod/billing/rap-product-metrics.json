{
  "annotations": {
    "list": [
      {
        "builtIn": 1,
        "datasource": {
          "type": "grafana",
          "uid": "P0D6E4079E36703EB"
        },
        "enable": true,
        "hide": true,
        "iconColor": "rgba(0, 211, 255, 1)",
        "name": "Annotations & Alerts",
        "target": {
          "limit": 100,
          "matchAny": false,
          "tags": [],
          "type": "dashboard"
        },
        "type": "dashboard"
      }
    ]
  },
  "description": "Shows processing online, offline, marketplace, fedabc and out etl metrics",
  "editable": true,
  "fiscalYearStartMonth": 0,
  "graphTooltip": 0,
  "id": 59,
  "iteration": 1726146850980,
  "links": [],
  "liveNow": false,
  "panels": [
    {
      "collapsed": false,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 0
      },
      "id": 26,
      "panels": [],
      "title": "Статистика времени формирования Asset transfer",
      "type": "row"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "P0D6E4079E36703EB"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisLabel": "Секунд",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "drawStyle": "line",
            "fillOpacity": 0,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "none"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 7,
        "w": 12,
        "x": 0,
        "y": 1
      },
      "id": 28,
      "options": {
        "legend": {
          "calcs": [
            "min",
            "max",
            "mean"
          ],
          "displayMode": "list",
          "placement": "right"
        },
        "tooltip": {
          "mode": "single",
          "sort": "none"
        }
      },
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "P0D6E4079E36703EB"
          },
          "editorMode": "code",
          "expr": "histogram_quantile(0.99, sum(rate(rap_asset_transfer_phtt_processing_time_seconds_bucket{namespace=\"$namespace\"}[5m])) by (le))",
          "legendFormat": "PHTT",
          "range": true,
          "refId": "A"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "P0D6E4079E36703EB"
          },
          "editorMode": "code",
          "expr": "histogram_quantile(0.99, sum(rate(rap_asset_transfer_ab_processing_time_seconds_bucket{namespace=\"$namespace\"}[5m])) by (le))",
          "hide": false,
          "legendFormat": "FEDABC",
          "range": true,
          "refId": "B"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "P0D6E4079E36703EB"
          },
          "editorMode": "code",
          "expr": "histogram_quantile(0.99, sum(rate(rap_asset_transfer_marketplace_processing_time_seconds_bucket{namespace=\"$namespace\"}[5m])) by (le))",
          "hide": false,
          "legendFormat": "MARKETPLACE",
          "range": true,
          "refId": "C"
        }
      ],
      "title": "99 перцентиль времени обработки платформой Rap",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "P0D6E4079E36703EB"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisLabel": "Секунд",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "drawStyle": "line",
            "fillOpacity": 0,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "none"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 7,
        "w": 12,
        "x": 12,
        "y": 1
      },
      "id": 29,
      "options": {
        "legend": {
          "calcs": [
            "min",
            "max",
            "mean"
          ],
          "displayMode": "list",
          "placement": "right"
        },
        "tooltip": {
          "mode": "single",
          "sort": "none"
        }
      },
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "P0D6E4079E36703EB"
          },
          "editorMode": "code",
          "expr": "histogram_quantile(0.99, sum(rate(full_asset_transfer_phtt_processing_time_seconds_bucket{namespace=\"$namespace\"}[5m])) by (le))",
          "legendFormat": "PHTT",
          "range": true,
          "refId": "A"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "P0D6E4079E36703EB"
          },
          "editorMode": "code",
          "expr": "histogram_quantile(0.99, sum(rate(full_asset_transfer_ab_processing_time_seconds_bucket{namespace=\"$namespace\"}[5m])) by (le))",
          "hide": false,
          "legendFormat": "FEDABC",
          "range": true,
          "refId": "B"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "P0D6E4079E36703EB"
          },
          "editorMode": "code",
          "expr": "histogram_quantile(0.99, sum(rate(full_asset_transfer_marketplace_processing_time_seconds_bucket{namespace=\"$namespace\"}[5m])) by (le))",
          "hide": false,
          "legendFormat": "MARKETPLACE",
          "range": true,
          "refId": "C"
        }
      ],
      "title": "99 перцентиль полного времени обработки",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "P0D6E4079E36703EB"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisLabel": "Количество",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "drawStyle": "line",
            "fillOpacity": 0,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "lineInterpolation": "smooth",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 7,
        "w": 12,
        "x": 0,
        "y": 8
      },
      "id": 33,
      "options": {
        "legend": {
          "calcs": [
            "max",
            "sum"
          ],
          "displayMode": "list",
          "placement": "right"
        },
        "tooltip": {
          "mode": "single",
          "sort": "none"
        }
      },
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "P0D6E4079E36703EB"
          },
          "editorMode": "code",
          "expr": "(sum(idelta(rap_asset_transfer_phtt_processing_time_seconds_bucket{namespace=\"$namespace\", service=~\"rap-etl-transfer-out.*\", le=\"+Inf\"}[$__rate_interval])) - \nsum(idelta(rap_asset_transfer_phtt_processing_time_seconds_bucket{namespace=\"$namespace\", service=~\"rap-etl-transfer-out.*\", le=\"35184.372088831\"}[$__rate_interval]))) >= 0",
          "legendFormat": "PHTT",
          "range": true,
          "refId": "A"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "P0D6E4079E36703EB"
          },
          "editorMode": "code",
          "expr": "(sum(idelta(rap_asset_transfer_ab_processing_time_seconds_bucket{namespace=\"$namespace\", service=~\"rap-etl-transfer-out.*\", le=\"+Inf\"}[$__rate_interval])) - \nsum(idelta(rap_asset_transfer_ab_processing_time_seconds_bucket{namespace=\"$namespace\", service=~\"rap-etl-transfer-out.*\", le=\"35184.372088831\"}[$__rate_interval]))) >= 0",
          "hide": false,
          "legendFormat": "FEDABC",
          "range": true,
          "refId": "B"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "P0D6E4079E36703EB"
          },
          "editorMode": "code",
          "expr": "(sum(idelta(rap_asset_transfer_marketplace_processing_time_seconds_bucket{namespace=\"$namespace\", service=~\"rap-etl-transfer-out.*\", le=\"+Inf\"}[$__rate_interval])) - \nsum(idelta(rap_asset_transfer_marketplace_processing_time_seconds_bucket{namespace=\"$namespace\", service=~\"rap-etl-transfer-out.*\", le=\"35184.372088831\"}[$__rate_interval]))) >= 0",
          "hide": false,
          "legendFormat": "MARKETPLACE",
          "range": true,
          "refId": "C"
        }
      ],
      "title": "Обработка платформой RAP более 10 часов",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "P0D6E4079E36703EB"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisLabel": "Количество",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "drawStyle": "line",
            "fillOpacity": 0,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "lineInterpolation": "smooth",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "decimals": 0,
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 7,
        "w": 12,
        "x": 12,
        "y": 8
      },
      "id": 34,
      "options": {
        "legend": {
          "calcs": [
            "max",
            "sum"
          ],
          "displayMode": "list",
          "placement": "right"
        },
        "tooltip": {
          "mode": "single",
          "sort": "none"
        }
      },
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "P0D6E4079E36703EB"
          },
          "editorMode": "code",
          "expr": "(sum(idelta(full_asset_transfer_phtt_processing_time_seconds_bucket{namespace=\"$namespace\", service=~\"rap-etl-transfer-out.*\", le=\"+Inf\"}[$__rate_interval])) - \nsum(idelta(full_asset_transfer_phtt_processing_time_seconds_bucket{namespace=\"$namespace\", service=~\"rap-etl-transfer-out.*\", le=\"35184.372088831\"}[$__rate_interval]))) >= 0",
          "legendFormat": "PHTT",
          "range": true,
          "refId": "A"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "P0D6E4079E36703EB"
          },
          "editorMode": "code",
          "expr": "(sum(idelta(full_asset_transfer_ab_processing_time_seconds_bucket{namespace=\"$namespace\", service=~\"rap-etl-transfer-out.*\", le=\"+Inf\"}[$__rate_interval])) - \nsum(idelta(full_asset_transfer_ab_processing_time_seconds_bucket{namespace=\"$namespace\", service=~\"rap-etl-transfer-out.*\", le=\"35184.372088831\"}[$__rate_interval]))) >= 0",
          "hide": false,
          "legendFormat": "FEDABC",
          "range": true,
          "refId": "B"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "P0D6E4079E36703EB"
          },
          "editorMode": "code",
          "expr": "(sum(idelta(full_asset_transfer_marketplace_processing_time_seconds_bucket{namespace=\"$namespace\", service=~\"rap-etl-transfer-out.*\", le=\"+Inf\"}[$__rate_interval])) - \nsum(idelta(full_asset_transfer_marketplace_processing_time_seconds_bucket{namespace=\"$namespace\", service=~\"rap-etl-transfer-out.*\", le=\"35184.372088831\"}[$__rate_interval]))) >= 0",
          "hide": false,
          "legendFormat": "MARKETPLACE",
          "range": true,
          "refId": "C"
        }
      ],
      "title": "Полная обработка более 10 часов",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "P0D6E4079E36703EB"
      },
      "description": "",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisLabel": "Секунд",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "drawStyle": "line",
            "fillOpacity": 0,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "none"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 7,
        "w": 12,
        "x": 0,
        "y": 15
      },
      "id": 30,
      "options": {
        "legend": {
          "calcs": [
            "min",
            "max",
            "mean"
          ],
          "displayMode": "list",
          "placement": "right"
        },
        "tooltip": {
          "mode": "single",
          "sort": "none"
        }
      },
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "P0D6E4079E36703EB"
          },
          "editorMode": "code",
          "expr": "avg(rate(rap_asset_transfer_phtt_processing_time_seconds_sum{namespace=\"$namespace\"}[5m])) \n/\navg(rate(rap_asset_transfer_phtt_processing_time_seconds_count{namespace=\"$namespace\"}[5m]))",
          "legendFormat": "PHTT",
          "range": true,
          "refId": "A"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "P0D6E4079E36703EB"
          },
          "editorMode": "code",
          "expr": "avg(rate(rap_asset_transfer_ab_processing_time_seconds_sum[5m])) \n/\navg(rate(rap_asset_transfer_ab_processing_time_seconds_count[5m]))",
          "hide": false,
          "legendFormat": "FEDABC",
          "range": true,
          "refId": "B"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "P0D6E4079E36703EB"
          },
          "editorMode": "code",
          "expr": "avg(rate(rap_asset_transfer_marketplace_processing_time_seconds_sum[5m])) \n/\navg(rate(rap_asset_transfer_marketplace_processing_time_seconds_count[5m]))",
          "hide": false,
          "legendFormat": "MARKETPLACE",
          "range": true,
          "refId": "C"
        }
      ],
      "title": "Среднее времени обработки платформой Rap",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "P0D6E4079E36703EB"
      },
      "description": "",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisLabel": "Секунд",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "drawStyle": "line",
            "fillOpacity": 0,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "none"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 7,
        "w": 12,
        "x": 12,
        "y": 15
      },
      "id": 31,
      "options": {
        "legend": {
          "calcs": [
            "min",
            "max",
            "mean"
          ],
          "displayMode": "list",
          "placement": "right"
        },
        "tooltip": {
          "mode": "single",
          "sort": "none"
        }
      },
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "P0D6E4079E36703EB"
          },
          "editorMode": "code",
          "expr": "avg(rate(full_asset_transfer_phtt_processing_time_seconds_sum{namespace=\"$namespace\"}[5m])) \n/\navg(rate(full_asset_transfer_phtt_processing_time_seconds_count{namespace=\"$namespace\"}[5m]))",
          "legendFormat": "PHTT",
          "range": true,
          "refId": "A"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "P0D6E4079E36703EB"
          },
          "editorMode": "code",
          "expr": "avg(rate(full_asset_transfer_ab_processing_time_seconds_sum[5m])) \n/\navg(rate(full_asset_transfer_ab_processing_time_seconds_count[5m]))",
          "hide": false,
          "legendFormat": "FEDABC",
          "range": true,
          "refId": "B"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "P0D6E4079E36703EB"
          },
          "editorMode": "code",
          "expr": "avg(rate(full_asset_transfer_marketplace_processing_time_seconds_sum[5m])) \n/\navg(rate(full_asset_transfer_marketplace_processing_time_seconds_count[5m]))",
          "hide": false,
          "legendFormat": "MARKETPLACE",
          "range": true,
          "refId": "C"
        }
      ],
      "title": "Среднее полное время обработки",
      "type": "timeseries"
    },
    {
      "collapsed": false,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 22
      },
      "id": 16,
      "panels": [],
      "title": "Ошибки обработки",
      "type": "row"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "P0D6E4079E36703EB"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "fixedColor": "red",
            "mode": "fixed"
          },
          "custom": {
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "line"
            }
          },
          "links": [],
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "none"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "total (press shift + left click to hide)"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "rgba(200, 242, 194, 0.72)",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "total (press shift + left click to hide)"
            },
            "properties": [
              {
                "id": "custom.lineWidth",
                "value": 0
              },
              {
                "id": "custom.lineStyle",
                "value": {
                  "dash": [
                    10,
                    10
                  ],
                  "fill": "dash"
                }
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 8,
        "w": 13,
        "x": 0,
        "y": 23
      },
      "id": 20,
      "interval": "",
      "links": [],
      "options": {
        "legend": {
          "calcs": [
            "lastNotNull"
          ],
          "displayMode": "table",
          "placement": "right",
          "sortBy": "Last *",
          "sortDesc": true
        },
        "tooltip": {
          "mode": "multi",
          "sort": "desc"
        }
      },
      "pluginVersion": "8.5.13",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "P0D6E4079E36703EB"
          },
          "editorMode": "code",
          "expr": "(sum by (processName, service) (camunda_incident_count{namespace=\"$namespace\", service=~\"rap.*\"}))/ (count by (processName, service) (camunda_incident_count{namespace=\"$namespace\", service=~\"rap.*\"}))",
          "interval": "",
          "legendFormat": "{{service}} | {{ processName }}",
          "range": true,
          "refId": "A"
        }
      ],
      "title": "Incident Count",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "P0D6E4079E36703EB"
      },
      "description": "Number of errors by service",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "continuous-GrYlRd",
            "seriesBy": "max"
          },
          "custom": {
            "axisGridShow": true,
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "drawStyle": "line",
            "fillOpacity": 28,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "lineInterpolation": "smooth",
            "lineStyle": {
              "fill": "solid"
            },
            "lineWidth": 2,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "noValue": "0",
          "thresholds": {
            "mode": "percentage",
            "steps": [
              {
                "color": "green",
                "value": null
              }
            ]
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 11,
        "x": 13,
        "y": 23
      },
      "id": 24,
      "links": [],
      "options": {
        "legend": {
          "calcs": [
            "sum",
            "max"
          ],
          "displayMode": "table",
          "placement": "right",
          "sortBy": "Total",
          "sortDesc": true,
          "width": 0
        },
        "tooltip": {
          "mode": "single",
          "sort": "none"
        }
      },
      "pluginVersion": "8.5.13",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "P0D6E4079E36703EB"
          },
          "expr": "sum by (service) (idelta(logback_events_total{namespace=\"$namespace\", service=~\"rap.*\", level=\"error\"}[$__rate_interval])) >= 0",
          "interval": "",
          "legendFormat": "{{service}}",
          "refId": "A"
        }
      ],
      "title": "Number of Log Errors",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "P0D6E4079E36703EB"
      },
      "description": "",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "drawStyle": "line",
            "fillOpacity": 0,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "decimals": 0,
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              }
            ]
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 10,
        "w": 24,
        "x": 0,
        "y": 31
      },
      "id": 10,
      "maxDataPoints": 99999,
      "options": {
        "legend": {
          "calcs": [
            "sum"
          ],
          "displayMode": "table",
          "placement": "right"
        },
        "tooltip": {
          "mode": "single",
          "sort": "none"
        }
      },
      "pluginVersion": "8.5.13",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "P0D6E4079E36703EB"
          },
          "editorMode": "code",
          "exemplar": false,
          "expr": "sum(idelta(solution_lines_is_empty_counter_total{service=\"rap-conductor\", namespace=\"$namespace\"}[$__rate_interval]))",
          "format": "time_series",
          "instant": false,
          "interval": "",
          "legendFormat": "At least one solution don't have lines",
          "range": true,
          "refId": "1"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "P0D6E4079E36703EB"
          },
          "editorMode": "code",
          "exemplar": false,
          "expr": "sum(idelta(document_type_is_not_order_counter_total{service=\"rap-conductor\", namespace=\"$namespace\"}[$__rate_interval]))",
          "hide": false,
          "legendFormat": "At least one solution have not ORDER document type",
          "range": true,
          "refId": "2"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "P0D6E4079E36703EB"
          },
          "editorMode": "code",
          "expr": "sum(idelta(more_than_one_delivery_line_counter_total{service=\"rap-conductor\", namespace=\"$namespace\"}[$__rate_interval]))",
          "hide": false,
          "legendFormat": "At least one solution have more than one DELIVERY line",
          "range": true,
          "refId": "3"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "P0D6E4079E36703EB"
          },
          "editorMode": "code",
          "expr": "sum(idelta(incorrect_line_type_counter_total{service=\"rap-conductor\", namespace=\"$namespace\"}[$__rate_interval]))",
          "hide": false,
          "legendFormat": "At least one solution have lines different from PRODUCT or DELIVERY",
          "range": true,
          "refId": "4"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "P0D6E4079E36703EB"
          },
          "editorMode": "code",
          "expr": "sum(idelta(more_than_one_solution_online_counter_total{service=\"rap-conductor\", namespace=\"$namespace\"}[$__rate_interval]))",
          "hide": false,
          "legendFormat": "There are more than one solution with \"ONLINE\" type",
          "range": true,
          "refId": "5"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "P0D6E4079E36703EB"
          },
          "editorMode": "code",
          "expr": "sum(idelta(different_solution_type_counter_total{service=\"rap-conductor\", namespace=\"$namespace\"}[$__rate_interval]))",
          "hide": false,
          "legendFormat": "There are solutions with different types",
          "range": true,
          "refId": "6"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "P0D6E4079E36703EB"
          },
          "editorMode": "code",
          "expr": "sum(idelta(different_point_of_origin_for_online_counter_total{service=\"rap-conductor\", namespace=\"$namespace\"}[$__rate_interval]))",
          "hide": false,
          "legendFormat": "Different pointOfOrigin values for solution with \"ONLINE\" type",
          "range": true,
          "refId": "7"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "P0D6E4079E36703EB"
          },
          "editorMode": "code",
          "expr": "sum(idelta(missed_delivery_coordinates_counter_total{service=\"rap-conductor\", namespace=\"$namespace\"}[$__rate_interval]))",
          "hide": false,
          "legendFormat": "Delivery coordinates are missed in the solution",
          "range": true,
          "refId": "8"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "P0D6E4079E36703EB"
          },
          "editorMode": "code",
          "expr": "sum(idelta(missed_payment_task_counter_total{service=\"rap-conductor\", namespace=\"$namespace\"}[$__rate_interval]))",
          "hide": false,
          "legendFormat": "PaymentTask in the solution is null",
          "range": true,
          "refId": "9"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "P0D6E4079E36703EB"
          },
          "editorMode": "code",
          "expr": "sum(idelta(not_valid_store_phtt_online_counter_total{service=\"rap-conductor\", namespace=\"$namespace\"}[$__rate_interval]))",
          "hide": false,
          "legendFormat": "Store isn't valid for phtt online",
          "range": true,
          "refId": "10"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "P0D6E4079E36703EB"
          },
          "editorMode": "code",
          "expr": "sum(idelta(different_point_of_sale_and_origin_for_online_counter_total{service=\"rap-conductor\",namespace=\"$namespace\"}[$__rate_interval]))",
          "hide": false,
          "legendFormat": "Different pointOfOrigin and pointOfSale values for solution with \"ONLINE\" type",
          "range": true,
          "refId": "11"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "P0D6E4079E36703EB"
          },
          "editorMode": "code",
          "exemplar": false,
          "expr": "sum(idelta(solution_not_found_counter_total{service=\"rap-conductor\", namespace=\"$namespace\"}[$__rate_interval]))",
          "format": "time_series",
          "hide": false,
          "instant": false,
          "legendFormat": "Solution not found",
          "range": true,
          "refId": "12"
        }
      ],
      "title": "Ошибки обработки чеков",
      "transformations": [],
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "P0D6E4079E36703EB"
      },
      "description": "",
      "fieldConfig": {
        "defaults": {
          "color": {
            "fixedColor": "red",
            "mode": "fixed"
          },
          "custom": {
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "drawStyle": "line",
            "fillOpacity": 0,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "lineInterpolation": "stepAfter",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              }
            ]
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 12,
        "w": 8,
        "x": 0,
        "y": 41
      },
      "id": 18,
      "options": {
        "legend": {
          "calcs": [
            "max"
          ],
          "displayMode": "table",
          "placement": "bottom"
        },
        "tooltip": {
          "mode": "single",
          "sort": "none"
        }
      },
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "P0D6E4079E36703EB"
          },
          "editorMode": "code",
          "expr": "sum(delta(reprocessing_receipts_counter_total{namespace=\"$namespace\"}[$__rate_interval]))",
          "legendFormat": "Count",
          "range": true,
          "refId": "A"
        }
      ],
      "title": "Количество повторной обработки чеков без сформированной команды",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "P0D6E4079E36703EB"
      },
      "description": "",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "drawStyle": "line",
            "fillOpacity": 0,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "decimals": 0,
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              }
            ]
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 12,
        "w": 8,
        "x": 8,
        "y": 41
      },
      "id": 12,
      "options": {
        "legend": {
          "calcs": [
            "sum"
          ],
          "displayMode": "table",
          "placement": "bottom"
        },
        "tooltip": {
          "mode": "single",
          "sort": "none"
        }
      },
      "pluginVersion": "8.5.13",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "P0D6E4079E36703EB"
          },
          "editorMode": "code",
          "expr": "sum(idelta(no_lines_counter_total{service=\"rap-conductor-ab\", namespace=\"$namespace\"}[$__range]))",
          "legendFormat": "There are no lines for transfer!",
          "range": true,
          "refId": "1"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "P0D6E4079E36703EB"
          },
          "editorMode": "code",
          "expr": "sum(idelta(empty_cluster_of_sale_counter_total{service=\"rap-conductor-ab\", namespace=\"$namespace\"}[$__range]))",
          "hide": false,
          "legendFormat": "Cluster of sale for transit sale is missed",
          "range": true,
          "refId": "2"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "P0D6E4079E36703EB"
          },
          "editorMode": "code",
          "expr": "sum(idelta(deliver_line_in_transit_sale_counter_total{service=\"rap-conductor-ab\", namespace=\"$namespace\"}[$__range]))",
          "hide": false,
          "legendFormat": "Found delivery line for transit sale",
          "range": true,
          "refId": "3"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "P0D6E4079E36703EB"
          },
          "editorMode": "code",
          "expr": "sum(idelta(more_than_one_delivery_counter_total{service=\"rap-conductor-ab\", namespace=\"$namespace\"}[$__range]))",
          "hide": false,
          "legendFormat": "More than one delivery line",
          "range": true,
          "refId": "4"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "P0D6E4079E36703EB"
          },
          "editorMode": "code",
          "expr": "sum(idelta(solution_not_found_error_counter_total{service=\"rap-conductor-ab\", namespace=\"$namespace\"}[$__range]))",
          "hide": false,
          "legendFormat": "Solution not found",
          "range": true,
          "refId": "5"
        }
      ],
      "title": "Ошибки обработки 1С Реализаций",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "P0D6E4079E36703EB"
      },
      "description": "",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "drawStyle": "line",
            "fillOpacity": 0,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "decimals": 0,
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              }
            ]
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 12,
        "w": 8,
        "x": 16,
        "y": 41
      },
      "id": 14,
      "maxDataPoints": 99999,
      "options": {
        "legend": {
          "calcs": [
            "sum"
          ],
          "displayMode": "table",
          "placement": "bottom"
        },
        "tooltip": {
          "mode": "single",
          "sort": "none"
        }
      },
      "pluginVersion": "8.5.13",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "P0D6E4079E36703EB"
          },
          "editorMode": "code",
          "exemplar": false,
          "expr": "sum(idelta(delivery_not_found_counter_total{service=\"rap-conductor-mp\", namespace=\"$namespace\"}[$__rate_interval]))",
          "instant": false,
          "legendFormat": "Delivery not found",
          "range": true,
          "refId": "1"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "P0D6E4079E36703EB"
          },
          "editorMode": "code",
          "expr": "sum(idelta(parcel_lines_is_empty_counter_total{service=\"rap-conductor-mp\", namespace=\"$namespace\"}[$__rate_interval]))",
          "hide": false,
          "legendFormat": "There aren’t lines for turnover allocation in the parcel",
          "range": true,
          "refId": "2"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "P0D6E4079E36703EB"
          },
          "editorMode": "code",
          "expr": "sum(idelta(wrong_parcel_states_counter_total{service=\"rap-conductor-mp\", namespace=\"$namespace\"}[$__rate_interval]))",
          "hide": false,
          "legendFormat": "Wrong parcel states",
          "range": true,
          "refId": "3"
        }
      ],
      "title": "Ошибки обработки заказов MP",
      "type": "timeseries"
    },
    {
      "collapsed": false,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 53
      },
      "id": 8,
      "panels": [],
      "title": "Статистика обработки данных",
      "type": "row"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "P0D6E4079E36703EB"
      },
      "description": "",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisLabel": "Скорость обработки объектов AssetTransfer",
            "axisPlacement": "left",
            "barAlignment": 0,
            "drawStyle": "line",
            "fillOpacity": 0,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "lineInterpolation": "smooth",
            "lineStyle": {
              "fill": "solid"
            },
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "decimals": 2,
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              }
            ]
          },
          "unit": "none"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "Ошибочные"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "red",
                  "mode": "fixed"
                }
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 10,
        "w": 12,
        "x": 0,
        "y": 54
      },
      "id": 6,
      "options": {
        "legend": {
          "calcs": [
            "sum"
          ],
          "displayMode": "table",
          "placement": "right"
        },
        "tooltip": {
          "mode": "multi",
          "sort": "desc"
        }
      },
      "pluginVersion": "8.5.13",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "P0D6E4079E36703EB"
          },
          "editorMode": "code",
          "exemplar": false,
          "expr": "sum(idelta(billing_rap_etl_transfer_out_received_count_total{namespace=\"$namespace\"}[$__rate_interval]))",
          "hide": false,
          "instant": false,
          "interval": "",
          "legendFormat": "Сумма",
          "range": true,
          "refId": "A"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "P0D6E4079E36703EB"
          },
          "editorMode": "code",
          "expr": "sum(idelta(billing_rap_etl_transfer_out_processed_ab_count_total{namespace=\"$namespace\"}[$__rate_interval]))",
          "hide": false,
          "interval": "",
          "legendFormat": "AB",
          "range": true,
          "refId": "B"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "P0D6E4079E36703EB"
          },
          "editorMode": "code",
          "expr": "sum(idelta(billing_rap_etl_transfer_out_processed_federal_count_total{namespace=\"$namespace\"}[$__rate_interval]))",
          "hide": false,
          "interval": "",
          "legendFormat": "FED",
          "range": true,
          "refId": "C"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "P0D6E4079E36703EB"
          },
          "editorMode": "code",
          "expr": "sum(idelta(billing_rap_etl_transfer_out_processed_c_count_total{namespace=\"$namespace\"}[$__rate_interval]))",
          "hide": false,
          "interval": "",
          "legendFormat": "C",
          "range": true,
          "refId": "D"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "P0D6E4079E36703EB"
          },
          "editorMode": "code",
          "expr": "sum(idelta(billing_rap_etl_transfer_out_processed_marketplace_count_total{namespace=\"$namespace\"}[$__rate_interval]))",
          "hide": false,
          "interval": "",
          "legendFormat": "MARKETPLACE",
          "range": true,
          "refId": "E"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "P0D6E4079E36703EB"
          },
          "editorMode": "code",
          "expr": "sum(idelta(billing_rap_etl_transfer_out_processed_online_count_total{namespace=\"$namespace\"}[$__rate_interval]))",
          "hide": false,
          "interval": "",
          "legendFormat": "ONLINE",
          "range": true,
          "refId": "F"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "P0D6E4079E36703EB"
          },
          "editorMode": "code",
          "expr": "sum(idelta(billing_rap_etl_transfer_out_processed_offline_count_total{namespace=\"$namespace\"}[$__rate_interval]))",
          "hide": false,
          "interval": "",
          "legendFormat": "OFFLINE",
          "range": true,
          "refId": "G"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "P0D6E4079E36703EB"
          },
          "editorMode": "code",
          "expr": "sum(idelta(messages_consumers_errors_count_total{namespace=\"$namespace\", service=\"rap-etl-transfer-out\"}[$__rate_interval]))",
          "hide": false,
          "interval": "",
          "legendFormat": "Ошибочные",
          "range": true,
          "refId": "H"
        }
      ],
      "title": "Обработанные трансферы по типам",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "P0D6E4079E36703EB"
      },
      "description": "",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisLabel": "Скорость обработки объектов SolutionDetailed",
            "axisPlacement": "left",
            "barAlignment": 0,
            "drawStyle": "line",
            "fillOpacity": 0,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "lineInterpolation": "smooth",
            "lineWidth": 1,
            "pointSize": 1,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "decimals": 1,
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 10,
        "w": 12,
        "x": 12,
        "y": 54
      },
      "id": 4,
      "options": {
        "legend": {
          "calcs": [
            "sum"
          ],
          "displayMode": "table",
          "placement": "right"
        },
        "tooltip": {
          "mode": "single",
          "sort": "none"
        }
      },
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "P0D6E4079E36703EB"
          },
          "editorMode": "code",
          "expr": "sum(idelta(billing_rap_etl_solution_in_received_count_total{namespace=\"$namespace\"}[$__rate_interval]))",
          "legendFormat": "Полученные",
          "range": true,
          "refId": "A"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "P0D6E4079E36703EB"
          },
          "editorMode": "code",
          "expr": "sum(idelta(billing_rap_etl_solution_in_processed_online_count_total{namespace=\"$namespace\"}[$__rate_interval]))",
          "hide": false,
          "legendFormat": "ONLINE",
          "range": true,
          "refId": "B"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "P0D6E4079E36703EB"
          },
          "editorMode": "code",
          "expr": "sum(idelta(billing_rap_etl_solution_in_processed_offline_count_total{namespace=\"$namespace\"}[$__rate_interval]))",
          "hide": false,
          "legendFormat": "OFFLINE",
          "range": true,
          "refId": "C"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "P0D6E4079E36703EB"
          },
          "editorMode": "code",
          "expr": "sum(idelta(billing_rap_etl_solution_in_filtered_by_solution_lines_empty_count_total{namespace=\"$namespace\"}[$__rate_interval]))",
          "hide": false,
          "legendFormat": "Отфильтрованных \"Empty lines\"",
          "range": true,
          "refId": "D"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "P0D6E4079E36703EB"
          },
          "editorMode": "code",
          "expr": "sum(idelta(billing_rap_etl_solution_in_filtered_by_document_type_count_total{namespace=\"$namespace\"}[$__rate_interval]))",
          "hide": false,
          "legendFormat": "Отфильтрованных \"Document type is not order\"",
          "range": true,
          "refId": "E"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "P0D6E4079E36703EB"
          },
          "editorMode": "code",
          "expr": "sum(idelta(billing_rap_etl_solution_in_filtered_by_more_than_one_delivery_line_count_total{namespace=\"$namespace\"}[$__rate_interval]))",
          "hide": false,
          "legendFormat": "Отфильтрованных \"More than one delivery line\"",
          "range": true,
          "refId": "F"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "P0D6E4079E36703EB"
          },
          "editorMode": "code",
          "expr": "sum(idelta(billing_rap_etl_solution_in_filtered_by_incorrect_line_type_count_total{namespace=\"$namespace\"}[$__rate_interval]))",
          "hide": false,
          "legendFormat": "Отфильтрованных \"Incorrect line type\"",
          "range": true,
          "refId": "G"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "P0D6E4079E36703EB"
          },
          "editorMode": "code",
          "expr": "sum(idelta(billing_rap_etl_solution_in_filtered_by_not_valid_store_offline_count_total{namespace=\"$namespace\"}[$__rate_interval]))",
          "hide": false,
          "legendFormat": "Отфильтрованных \"Not valid store for offline\"",
          "range": true,
          "refId": "H"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "P0D6E4079E36703EB"
          },
          "editorMode": "code",
          "expr": "sum(idelta(billing_rap_etl_solution_in_filtered_by_not_valid_store_online_count_total{namespace=\"$namespace\"}[$__rate_interval]))",
          "hide": false,
          "legendFormat": "Отфильтрованных \"Not valid store for online\"",
          "range": true,
          "refId": "I"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "P0D6E4079E36703EB"
          },
          "editorMode": "code",
          "expr": "sum(idelta(billing_rap_etl_solution_in_filtered_by_different_point_of_origin_for_online_count_total{namespace=\"$namespace\"}[$__rate_interval]))",
          "hide": false,
          "legendFormat": "Отфильтрованных \"Different point of origin for online\"",
          "range": true,
          "refId": "J"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "P0D6E4079E36703EB"
          },
          "editorMode": "code",
          "expr": "sum(idelta(billing_rap_etl_solution_in_filtered_by_missed_delivery_coordinates_count_total{namespace=\"$namespace\"}[$__rate_interval]))",
          "hide": false,
          "legendFormat": "Отфильтрованных \"Missed delivery coordinates\"",
          "range": true,
          "refId": "K"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "P0D6E4079E36703EB"
          },
          "editorMode": "code",
          "expr": "sum by(service) (rate(messages_consumers_errors_count_total{namespace=\"$namespace\",service=\"rap-etl-solution-in\"}[$__rate_interval]))",
          "hide": false,
          "legendFormat": "Ошибки обработки",
          "range": true,
          "refId": "L"
        }
      ],
      "title": "Обработанные заказы",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "P0D6E4079E36703EB"
      },
      "description": "",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisLabel": "Скорость обработки объектов Receipt",
            "axisPlacement": "left",
            "barAlignment": 0,
            "drawStyle": "line",
            "fillOpacity": 0,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "lineInterpolation": "smooth",
            "lineStyle": {
              "fill": "solid"
            },
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "decimals": 1,
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              }
            ]
          },
          "unit": "none"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "Ошибки чтения"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "red",
                  "mode": "fixed"
                }
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 9,
        "w": 12,
        "x": 0,
        "y": 64
      },
      "id": 2,
      "interval": "30",
      "options": {
        "legend": {
          "calcs": [
            "sum"
          ],
          "displayMode": "table",
          "placement": "right"
        },
        "tooltip": {
          "mode": "single",
          "sort": "none"
        }
      },
      "pluginVersion": "8.5.13",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "P0D6E4079E36703EB"
          },
          "editorMode": "code",
          "expr": "sum(idelta(billing_rap_etl_receipt_in_received_count_total{namespace=\"$namespace\"}[$__rate_interval]))",
          "hide": false,
          "interval": "",
          "legendFormat": "Полученные",
          "range": true,
          "refId": "A"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "P0D6E4079E36703EB"
          },
          "editorMode": "code",
          "expr": "sum(idelta(billing_rap_etl_receipt_in_processed_count_total{namespace=\"$namespace\"}[$__rate_interval]))",
          "hide": false,
          "legendFormat": "Успешно обработанные",
          "range": true,
          "refId": "B"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "P0D6E4079E36703EB"
          },
          "editorMode": "code",
          "expr": "sum(idelta(billing_rap_etl_receipt_in_filtered_by_not_valid_store_count_total{namespace=\"$namespace\"}[$__rate_interval]))",
          "hide": false,
          "legendFormat": "Отфильтрованных \"Not valid store\"",
          "range": true,
          "refId": "C"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "P0D6E4079E36703EB"
          },
          "editorMode": "code",
          "exemplar": false,
          "expr": "sum(idelta(messages_consumers_errors_count_total{namespace=\"$namespace\", service=\"rap-etl-receipt-in\"}[$__rate_interval]))",
          "hide": false,
          "instant": false,
          "interval": "",
          "legendFormat": "Ошибки чтения",
          "range": true,
          "refId": "D"
        }
      ],
      "title": "Обработанные чеки",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "P0D6E4079E36703EB"
      },
      "description": "",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisLabel": "Скорость обработки объектов Realization",
            "axisPlacement": "left",
            "barAlignment": 0,
            "drawStyle": "line",
            "fillOpacity": 0,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "lineInterpolation": "smooth",
            "lineStyle": {
              "fill": "solid"
            },
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "decimals": 2,
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "none"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 9,
        "w": 12,
        "x": 12,
        "y": 64
      },
      "id": 5,
      "options": {
        "legend": {
          "calcs": [
            "sum"
          ],
          "displayMode": "table",
          "placement": "right"
        },
        "tooltip": {
          "mode": "single",
          "sort": "none"
        }
      },
      "pluginVersion": "8.5.13",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "P0D6E4079E36703EB"
          },
          "editorMode": "code",
          "expr": "sum(idelta(billing_rap_etl_1c_received_count_total{namespace=\"$namespace\"}[$__rate_interval]))",
          "hide": false,
          "interval": "",
          "legendFormat": "Полученные",
          "range": true,
          "refId": "A"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "P0D6E4079E36703EB"
          },
          "editorMode": "code",
          "expr": "sum(idelta(billing_rap_etl_1c_processed_transit_c_count_total{namespace=\"$namespace\"}[$__rate_interval]))",
          "hide": false,
          "legendFormat": "TRANSIT C",
          "range": true,
          "refId": "B"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "P0D6E4079E36703EB"
          },
          "editorMode": "code",
          "expr": "sum(idelta(billing_rap_etl_1c_processed_transit_ab_count_total{namespace=\"$namespace\"}[$__rate_interval]))",
          "hide": false,
          "legendFormat": "TRANSIT AB",
          "range": true,
          "refId": "C"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "P0D6E4079E36703EB"
          },
          "editorMode": "code",
          "exemplar": false,
          "expr": "sum(idelta(billing_rap_etl_1c_processed_transit_fed_count_total{namespace=\"$namespace\"}[$__rate_interval]))",
          "hide": false,
          "instant": false,
          "interval": "",
          "legendFormat": "TRANSIT FED",
          "range": true,
          "refId": "D"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "P0D6E4079E36703EB"
          },
          "editorMode": "code",
          "expr": "sum(idelta(billing_rap_etl_1c_processed_not_transit_ab_count_total{namespace=\"$namespace\"}[$__rate_interval]))",
          "hide": false,
          "legendFormat": "NOT TRANSIT AB",
          "range": true,
          "refId": "E"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "P0D6E4079E36703EB"
          },
          "editorMode": "code",
          "expr": "sum(idelta(billing_rap_etl_1c_processed_not_transit_fed_count_total{namespace=\"$namespace\"}[$__rate_interval]))",
          "hide": false,
          "legendFormat": "NOT TRANSIT FED",
          "range": true,
          "refId": "F"
        }
      ],
      "title": "Обработанные 1С Реализации",
      "type": "timeseries"
    }
  ],
  "refresh": "1m",
  "schemaVersion": 36,
  "style": "dark",
  "tags": [],
  "templating": {
    "list": [
      {
        "current": {
          "selected": false,
          "text": "billing-prod",
          "value": "billing-prod"
        },
        "datasource": {
          "type": "prometheus",
          "uid": "P0D6E4079E36703EB"
        },
        "definition": "label_values(kube_pod_info, namespace)",
        "hide": 0,
        "includeAll": false,
        "multi": false,
        "name": "namespace",
        "options": [],
        "query": {
          "query": "label_values(kube_pod_info, namespace)",
          "refId": "StandardVariableQuery"
        },
        "refresh": 2,
        "regex": "(billing-.*|src-.*|rap-.*|psp-.*|b2bm-.*)",
        "skipUrlSync": false,
        "sort": 1,
        "type": "query"
      }
    ]
  },
  "time": {
    "from": "now-7d",
    "to": "now"
  },
  "timepicker": {
    "refresh_intervals": [
      "5s",
      "10s",
      "30s",
      "1m",
      "5m",
      "15m",
      "30m",
      "1h",
      "2h",
      "1d"
    ]
  },
  "timezone": "",
  "title": "RAP product Metrics",
  "uid": "e56tePXSk",
  "version": 8,
  "weekStart": ""
}